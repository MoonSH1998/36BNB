<html>
<head>
<script type="text/javascript" src="js/jquery-3.6.0.min.js"></script>
<meta name=viewport content="width=device-width, initial-scale=1, user-scalable=0">
<meta charset="utf-8" />
<link rel="stylesheet" href="css/core.css">
<title>MySNS</title>

	</head>
	<body>
		<header class="screen_header">
			<div><a href ="login.html">
				<i class="fas fa-angle-left"></i>
				</a>
			</div>
			<div>회원가입</div>
			<span>아래 정보를 모두 입력해주세요</span>
		</header>


	<div class="section  signup_main">
		<input id="id" type="email" placeholder="아이디로 사용할 이메일주소">
		<input id="name" type="text" placeholder="이름">
		<input id="stu_num" type="text" placeholder="학번">
		<input id="birth" type="text" placeholder="생년월일">
		<input id="phone_num" type="text" placeholder="전화번호">
		<input id="ps" type="password" placeholder="비밀번호">

		<input type="submit" class="signup_btn" value="회원가입" onclick="signup()">
			<a href="login.html" class="signup_screen_login"><span>로그인</span></a>
	</div>
		
				

	</body>
</html>
		<script
		src="https://kit.fontawesome.com/6478f529f2.js">
		</script>
	
	<script src="js/jquery-3.6.0.min.js"></script>
	<script src="js/core.js"></script>
	<script>

	function signup() {
		var id = $("#id").val().trim();
	if (id == "") {
	alert("아이디로 사용할 이메일을 입력해주세요.");
	$("#id").focus();
	return;
	}
		var name = $("#name").val().trim();
	if (name == "") {
	alert("이름을 입력해 주세요.");
	$("#name").focus();
	return;
	}
		var stu_num = $("#stu_num").val().trim();
	if (stu_num == "") {
	alert("학번을 입력해 주세요.");
	$("#stu_num").focus();
	return;
		}
		var birth = $("#birth").val().trim();
	if (birth == "") {
	alert("생년월일을 입력해 주세요.");
	$("#birth").focus();
	return;
		}
		var phone_num = $("#phone_num").val().trim();
	if (phone_num == "") {
	alert("전화번호를 입력해 주세요.");
	$("#phone_num").focus();
	return;
		}
		var ps = $("#ps").val().trim();
	if (ps == "") {
	alert("패스워드를 입력해 주세요.");
	$("#ps").focus();
	return;
	}			

	var usrobj = {id: id, name: name, stu_num: stu_num,  birth: birth, phone_num: phone_num, ps: ps};
	var params = {id: id, jsonstr: JSON.stringify(usrobj)};
	var url ="jsp/signup.jsp";
	AJAX.call(url, params, function(data) {
	var code = data.trim();
	if(code == "EX") {
	alert("이미 가입한 회원입니다.");
	}
	else if(code == "ER") {
	alert("회원가입 처리중 에러가 발생하였습니다.");
	}
	else {
	alert("회원 가입이 완료되었습니다.");
	window.location.href = "main.html";
	}
	});
	}
	
</script>